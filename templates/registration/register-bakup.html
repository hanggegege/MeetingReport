{% extends "base.html" %}
{% block content %}
    {% if form.non_field_errors %}
        <div class="messages">
            <div class="alert alert-warning alert-dismissible" role="alert">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                {{ form.non_field_errors }}
            </div>
        </div>
    {% endif %}
    {% if user.is_authenticated %}
        <div class="alert alert-success alert-dismissible" role="alert">
            你已经登录 【{{ user }}】，请先登出
        </div>
    {% else %}
        <form action="" method="post">{% csrf_token %}
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title"><strong>基础信息</strong></h3>
                </div>
                <div class="panel-body">

                    <div class="form-group {% if form.username.errors %} has-error {% endif %}">
                        <label for="">{{ form.username.label }}</label>
                        {% if form.username.errors %}
                            <span class="text-danger pull-right">{{ form.username.errors }}</span>
                        {% endif %}
                        {{ form.username }}
                        <p class="text-muted">{{ form.username.help_text }}</p>
                    </div>
                    <div class="form-group {% if form.email.errors %} has-error {% endif %}">
                        <label for="">{{ form.email.label }}</label>
                        {% if form.email.errors %}
                            <span class="text-danger pull-right">{{ form.email.errors }}</span>
                        {% endif %}
                        {{ form.email }}
                        <p class="text-muted">{{ form.email.help_text }}</p>
                    </div>
                    <div class="form-group {% if form.password.errors %} has-error {% endif %}">
                        <label for="">{{ form.password.label }}</label>
                        {% if form.password.errors %}
                            <span class="text-danger pull-right">{{ form.password.errors }}</span>
                        {% endif %}
                        {{ form.password }}
                        <p class="text-muted">{{ form.password.help_text }}</p>
                    </div>
                    <div class="form-group {% if form.confirm_password.errors %} has-error {% endif %}">
                        <label for="">{{ form.confirm_password.label }}</label>
                        {% if form.confirm_password.errors %}
                            <span class="text-danger pull-right">{{ form.confirm_password.errors }}</span>
                        {% endif %}
                        {{ form.confirm_password }}
                    </div>
                </div>
            </div>

            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title"><strong>其他信息</strong></h3>
                </div>
                <div class="panel-body">
                    <div class="form-group">
                        <label for="">手机</label>
                        <input class="form-control" maxlength="11" minlength="11" name="mobile"
                               type="password" required="">
                    </div>
                    <div class="form-group">
                        <label for="">职位</label>
                        <input class="form-control" name="position"
                               type="password"  placeholder="软件开发工程师">
                    </div>
                    <div class="form-group">
                        <label for="">部门</label>
                        <input class="form-control" name="departments"
                               type="password" placeholder="电商业务部">
                    </div>
                </div>
            </div>
            <button type="submit" class="btn btn-default">注 册</button>
        </form>
    {% endif %}
    <br/><br/><br/><br/>
{% endblock %}
